"use strict";(self.webpackChunknuchain_wiki_2=self.webpackChunknuchain_wiki_2||[]).push([[289],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),m=c(n),d=i,h=m["".concat(l,".").concat(d)]||m[d]||u[d]||r;return n?a.createElement(h,o(o({ref:t},s),{},{components:n})):a.createElement(h,o({ref:t},s))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:i,o[1]=p;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5067:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return p},metadata:function(){return l},toc:function(){return c},default:function(){return u}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o={id:"supply-chain",title:"Supply Chain",sidebar_label:"Supply Chain"},p=void 0,l={unversionedId:"build/supply-chain",id:"build/supply-chain",isDocsHomePage:!1,title:"Supply Chain",description:"Nuchain supports functions for building supply chain systems.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/build/supply-chain.md",sourceDirName:"build",slug:"/build/supply-chain",permalink:"/en/docs/build/supply-chain",editUrl:"https://github.com/nusantarachain/wiki/edit/master/docs/build/supply-chain.md",tags:[],version:"current",frontMatter:{id:"supply-chain",title:"Supply Chain",sidebar_label:"Supply Chain"},sidebar:"tutorialSidebar",previous:{title:"Digital certificate",permalink:"/en/docs/build/build-certificate"}},c=[{value:"Workflow",id:"workflow",children:[]},{value:"Verification",id:"verification",children:[]},{value:"Notifications",id:"notifications",children:[]},{value:"Demo",id:"demo",children:[]}],s={toc:c};function u(e){var t=e.components,o=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},s,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Nuchain supports functions for building supply chain systems."),(0,r.kt)("p",null,"The code for building supply chain systems can be found in the following two modules:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/nusantarachain/nuchain/tree/supplychain/frame/product-registry"},"Product Registry"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/nusantarachain/nuchain/tree/supplychain/frame/product-tracking"},"Product Tracking"),".")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"To be able to follow this section make sure you have read the section\n",(0,r.kt)("a",{parentName:"p",href:"/en/docs/learn/main"},"Getting Started")," and ",(0,r.kt)("a",{parentName:"p",href:"/en/docs/build/build-intro"},"Build"),"."))),(0,r.kt)("p",null,"The supply chain system requires organizations as product holders. About the organization and how to\ncreate it can be found in section ",(0,r.kt)("a",{parentName:"p",href:"/en/docs/build/build-organization"},"Organization")),(0,r.kt)("p",null,"Broadly speaking, the supply chain system at Nuchain is controlled by the organization. You can use\norganizations for:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Product registration."),(0,r.kt)("li",{parentName:"ol"},"Registration ",(0,r.kt)("em",{parentName:"li"},"tracking"),"."),(0,r.kt)("li",{parentName:"ol"},"Grant access for ",(0,r.kt)("em",{parentName:"li"},"tracker"),".")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},(0,r.kt)("strong",{parentName:"em"},"Tracker"))," is an entity/individual that can do ",(0,r.kt)("em",{parentName:"p"},"update")," status ",(0,r.kt)("em",{parentName:"p"},"tracking")," with access permission\nfrom the organization via ",(0,r.kt)("a",{parentName:"p",href:"/en/docs/build/build-did"},"DID"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Nuchain Supply Chain",src:n(4123).Z})),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"(image: supply chain in Nuchain)")),(0,r.kt)("p",null,"Every ",(0,r.kt)("em",{parentName:"p"},"update")," done by ",(0,r.kt)("em",{parentName:"p"},"tracker")," will produce ",(0,r.kt)("em",{parentName:"p"},"event")," and ",(0,r.kt)("em",{parentName:"p"},"event")," will be held by\n",(0,r.kt)("a",{parentName:"p",href:"/en/docs/general/glossary#off-chain-worker"},"off-chain worker")," to generate notification.Then the\nnotification will be ",(0,r.kt)("em",{parentName:"p"},"pushed")," via ",(0,r.kt)("em",{parentName:"p"},"webhook"),"."),(0,r.kt)("h2",{id:"workflow"},"Workflow"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Registering the product"),", the product needs to be registered by sending a transaction using\nfunctions ",(0,r.kt)("a",{parentName:"p",href:"/en/docs/learn/learn-extrinsic"},"extrinsic")," ",(0,r.kt)("inlineCode",{parentName:"p"},"productRegistry.register")," with parameter:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"id")," - this is the id product. It can be numeric, alpha-numeric, GS1 GTIN (Global Trade Item\nNumber) or ASIN (Amazon Standard Identification Number)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"org_id")," - is the ID of the organization/agency that represents ownership of the products."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"props")," - a list of data containing key values \u200b\u200bthat describe the product. It usually contains\nat least the SKU or description of the product. It can also contains other information such as\nproduct's content, expiration date, weight, agricultural origin, harvest time, etc."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Registering tracking"),", the product that will be ","_","track_ed needs to be registered first. Use\nthe function ",(0,r.kt)("a",{parentName:"p",href:"/en/docs/learn/learn-extrinsic"},"extrinsic")," ",(0,r.kt)("inlineCode",{parentName:"p"},"productTracking.register")," with parameter:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"id")," - its ",(0,r.kt)("em",{parentName:"li"},"tracking")," id."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"org_id")," - the ID of the organization/agency that represents ownership of the product."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"year")," - ",(0,r.kt)("em",{parentName:"li"},"tracking"),' initiation year, e.g. "2021".'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"products")," - list/array ID of the product to be registered."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Doing status updates"),", updating the status of each process that has been passed by the product\nby sending transactions using the function ",(0,r.kt)("a",{parentName:"p",href:"/en/docs/learn/learn-extrinsic"},"extrinsic"),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"productTracking.updateStatus")," with parameters:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"id")," - ID code tracking."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"status")," - (string) the status to be given."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timestamp")," - timestamp (in milliseconds)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"location")," - the location where ",(0,r.kt)("em",{parentName:"li"},"tracking")," is performed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"readings")," - additional information about the product.")))),(0,r.kt)("p",null,"To be able to ",(0,r.kt)("em",{parentName:"p"},"update status"),", ",(0,r.kt)("em",{parentName:"p"},"caller")," must have access as ",(0,r.kt)("em",{parentName:"p"},"tracker")," assigned by the organization\nto the designated account. To give an access, you can use extrinsic function ",(0,r.kt)("inlineCode",{parentName:"p"},"did.createDelegate")," of\ntype ",(0,r.kt)("inlineCode",{parentName:"p"},"ProductTracker")," that is located in module ",(0,r.kt)("inlineCode",{parentName:"p"},"did"),". This access can be granted on a limited basis\n(with ",(0,r.kt)("em",{parentName:"p"},"expiration time"),") or unlimited (without ",(0,r.kt)("em",{parentName:"p"},"expiration time"),")."),(0,r.kt)("h2",{id:"verification"},"Verification"),(0,r.kt)("p",null,"Verifying is possible by doing ",(0,r.kt)("em",{parentName:"p"},"query")," using the function ",(0,r.kt)("em",{parentName:"p"},"query")," ",(0,r.kt)("inlineCode",{parentName:"p"},"productTracking.tracking(ID)"),".\nThis function can be used to get detailed tracking data that contain ",(0,r.kt)("em",{parentName:"p"},"metadata")," and a list of\nincluded product IDs."),(0,r.kt)("p",null,"Meanwhile, to get the ",(0,r.kt)("em",{parentName:"p"},"events")," that occur in the ",(0,r.kt)("em",{parentName:"p"},"tracking")," object, you can use the function ",(0,r.kt)("em",{parentName:"p"},"query"),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"productTracking.eventsOfTracking(ID)"),". The function only returns the ID of the event. To get the\ndetails of the event, you can ",(0,r.kt)("em",{parentName:"p"},"query")," using the function ",(0,r.kt)("inlineCode",{parentName:"p"},"productTracking.eventByIdx(IDX)"),"."),(0,r.kt)("h2",{id:"notifications"},"Notifications"),(0,r.kt)("p",null,"Nuchain can send real-time notifications out of the network (",(0,r.kt)("em",{parentName:"p"},"off-chain"),") using ",(0,r.kt)("em",{parentName:"p"},"Web hook")," for every\n",(0,r.kt)("em",{parentName:"p"},"event")," that occurs on ",(0,r.kt)("em",{parentName:"p"},"tracking")," on the ",(0,r.kt)("em",{parentName:"p"},"blockchain")," network."),(0,r.kt)("p",null,"Nuchain uses ",(0,r.kt)("em",{parentName:"p"},"Off-chain Worker")," for this purpose."),(0,r.kt)("h2",{id:"demo"},"Demo"),(0,r.kt)("p",null,"Examples of the code can be found on Github\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/nusantarachain/supplychain-sample-py"},"supplychain-sample-py"),"."))}u.isMDXComponent=!0},4123:function(e,t,n){t.Z=n.p+"assets/images/nuchain-supply-chain-c95c544c0357d8018cf71db9da92c868.png"}}]);