"use strict";(self.webpackChunknuchain_wiki_2=self.webpackChunknuchain_wiki_2||[]).push([[229],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),p=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),h=p(n),m=r,d=h["".concat(c,".").concat(m)]||h[m]||u[m]||o;return n?a.createElement(d,i(i({ref:t},s),{},{components:n})):a.createElement(d,i({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9114:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i={id:"become-validator",title:"Become Validator",sidebar_label:"Become Validator"},l=void 0,c={unversionedId:"learn/become-validator",id:"learn/become-validator",isDocsHomePage:!1,title:"Become Validator",description:"You must have a Nuchain account in order to become a validator. How to create an account can be",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/learn/become-validator.md",sourceDirName:"learn",slug:"/learn/become-validator",permalink:"/docs/learn/become-validator",editUrl:"https://github.com/nusantarachain/wiki/edit/master/docs/learn/become-validator.md",tags:[],version:"current",frontMatter:{id:"become-validator",title:"Become Validator",sidebar_label:"Become Validator"},sidebar:"tutorialSidebar",previous:{title:"What is Validator",permalink:"/docs/learn/validator-basic"},next:{title:"Docker",permalink:"/docs/learn/docker"}},p=[{value:"Installing Nuchain Node",id:"installing-nuchain-node",children:[]},{value:"Connect",id:"connect",children:[]},{value:"Apply As Validator",id:"apply-as-validator",children:[]},{value:"Pruning",id:"pruning",children:[]},{value:"Presync Data",id:"presync-data",children:[]}],s={toc:p};function u(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"You must have a Nuchain account in order to become a validator. How to create an account can be\nfound ",(0,o.kt)("a",{parentName:"p",href:"/docs/learn/account"},"here"),"."),(0,o.kt)("h2",{id:"installing-nuchain-node"},"Installing Nuchain Node"),(0,o.kt)("p",null,"You can install Nuchain node on your server/computer by compiling the source code from the ",(0,o.kt)("inlineCode",{parentName:"p"},"master"),"\n",(0,o.kt)("em",{parentName:"p"},"branch")," in ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/nusantarachain/nuchain"},"repository")," or downloading the ",(0,o.kt)("em",{parentName:"p"},"pre-built\nbinary")," on the ","[releases]"," page (",(0,o.kt)("a",{parentName:"p",href:"https://github.com/nusantarachain/nuchain/releases"},"https://github.com/nusantarachain/nuchain/releases"),")."),(0,o.kt)("p",null,"If you want to install from source code, please follow the steps\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/nusantarachain/nuchain/blob/master/README.md#from-source-code"},"install from source code"),"."),(0,o.kt)("p",null,"After you ",(0,o.kt)("em",{parentName:"p"},"download")," from the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/nusantarachain/nuchain/releases"},"releases"),",\nextract/unzip the zip file. Here is an example."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ unzip nuchain-0.1.3-3cb5203af-linux.zip\n")),(0,o.kt)("p",null,"Run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ ./nuchain --validator\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NOTE:")," Run Nuchain as a service so that when the computer shuts down/restarts, Nuchain can run\nagain automatically."),(0,o.kt)("p",null,"The fastest way to run Nuchain node is to use ",(0,o.kt)("a",{parentName:"p",href:"https://docker.com/"},"Docker"),", read how to use it\n",(0,o.kt)("a",{parentName:"p",href:"/docs/learn/docker"},"here"),"."),(0,o.kt)("h2",{id:"connect"},"Connect"),(0,o.kt)("p",null,"You need to link your account to the validator engine so that the Nuchain system knows where the\n",(0,o.kt)("em",{parentName:"p"},"rewards")," (as the results of the validator engine) will go. Here's how to connect a Nuchain account\nwith the validator engine:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Get the session key from the validator engine that is already running:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -H "Content-Type: application/json" -d \'{"id":1, "jsonrpc":"2.0", "method": "author_rotateKeys", "params":[]}\' http:// localhost:9933\n')),(0,o.kt)("p",null,"The output you get is something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{ "Jsonrpc": "2.0", "result": "0x2320085170b06281aedc2df4296d7b5042abcef201c57f2e55201f7aefc6af0c5ac19e74b674cb97913d54d63255dc18fbe88ad73392576130e00803c7082716147a5768a1c7f8708379649c0c9246b049699109c94b7d8957ebb813af62620464a70e69288323168afd69358746d684fc178eefac06aa9e94028a0f409a6d1a", "id": 1}\n')),(0,o.kt)("p",null,"Copy the hex text in the ",(0,o.kt)("em",{parentName:"p"},"field")," ",(0,o.kt)("em",{parentName:"p"},"result")," starting with ",(0,o.kt)("inlineCode",{parentName:"p"},"0x..."),". The text is the session key which\nwill be needed at the registration/submission stage to become a validator."),(0,o.kt)("h2",{id:"apply-as-validator"},"Apply As Validator"),(0,o.kt)("p",null,"To apply as a validator, go to ",(0,o.kt)("a",{parentName:"p",href:"https://nuchain.research.tech"},"Nuchain Dashboard"),". Go to the\n",(0,o.kt)("strong",{parentName:"p"},"Network")," menu > ",(0,o.kt)("strong",{parentName:"p"},"Staking")," > ",(0,o.kt)("strong",{parentName:"p"},"Account actions"),' then click the "',(0,o.kt)("strong",{parentName:"p"},"+Validator"),'" button:'),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/Gr1SNgD.png",alt:"Nuchain Validator"})),(0,o.kt)("p",null,"Fill in the required data for the Staking process then click the ",(0,o.kt)("strong",{parentName:"p"},"next")," button."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Paste")," the long hex text -- obtained from the previous step -- into the input ",(0,o.kt)("em",{parentName:"p"},"Keys from\nrotateKeys"),":"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/pqUCE6X.png",alt:"Set Session Key"})),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"rewards commission percentage")," can be filled 100% to get all ",(0,o.kt)("em",{parentName:"p"},"rewards")," for yourself (excluding\n",(0,o.kt)("em",{parentName:"p"},"nominators"),")."),(0,o.kt)("p",null,"If you encounter any difficulties, please submit questions in the ","[Element]","\ngroup(",(0,o.kt)("a",{parentName:"p",href:"https://app.element.io/#/room/!aYWUxhUvutqbMBQIsN:matrix.org"},"https://app.element.io/#/room/!aYWUxhUvutqbMBQIsN:matrix.org"),") or\n",(0,o.kt)("a",{parentName:"p",href:"https://t.me/nusantarachain"},"Telegram")),(0,o.kt)("h2",{id:"pruning"},"Pruning"),(0,o.kt)("p",null,"When you become a validator, you don't have to store all existing block data. It is possible for the\nvalidator to store only the last few blocks of data so that its storage space is not highly\nconsumed. This can be done by using the ",(0,o.kt)("em",{parentName:"p"},"pruning")," feature. This feature allows the validator to run\nthe engine without having to store the entire block from the begining; the validator may store only\na few blocks based on the desired configuration. Activation of ",(0,o.kt)("em",{parentName:"p"},"pruning")," mode is enough by adding\nthe parameters ",(0,o.kt)("inlineCode",{parentName:"p"},"--unsafe-pruning")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"--pruning=[NUMBER-BLOCK]"),". Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"nuchain --validator --unsafe-pruning --pruning=1000 ...\n")),(0,o.kt)("p",null,"The above example command will run the validator with ",(0,o.kt)("em",{parentName:"p"},"pruning")," 1000 or only keep the last 1000\nblocks, the old blocks will be deleted."),(0,o.kt)("p",null,"While using Pruning makes storage power more efficient, saving all blocks is recommended. Saving the\nentire block will maintain the ",(0,o.kt)("em",{parentName:"p"},"history")," of transactions across the network."),(0,o.kt)("h2",{id:"presync-data"},"Presync Data"),(0,o.kt)("p",null,"When you become a new validator for the first time, the ",(0,o.kt)("em",{parentName:"p"},"node")," will synchronize. This process will\ntake quite a while when there are too many blocks. To speed up the sync process, you can download\nthe following ",(0,o.kt)("em",{parentName:"p"},"presync")," data:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://dmcd6hvaqrxz0.cloudfront.net/nuchain/presync-data/nuchain-pruning-1000-snapshot-2021-10-07.7z"},"Nuchain Data 7 Oct 2021 pruning 1000"),"\n(2GB)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://dmcd6hvaqrxz0.cloudfront.net/nuchain/presync-data/nuchain-snapshot-20210521-pruning1000-rocks.7z"},"Nuchain Data 21 May 2021 pruning 1000"),"\n(993M)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://dmcd6hvaqrxz0.cloudfront.net/nuchain/presync-data/nuchain-snapshot-2021-05-09.7z"},"Nuchain Data 9 May 2021 full"),"\n(6GB)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://dmcd6hvaqrxz0.cloudfront.net/nuchain/presync-data/nuchain-snapshot-20210421-full-rocks.7z"},"Nuchain Data 14 April 2021 full"),"\n(2GB)")),(0,o.kt)("p",null,"Extract the file using ",(0,o.kt)("a",{parentName:"p",href:"https://www.7-zip.org/"},"7zip")," and point ",(0,o.kt)("em",{parentName:"p"},"Nuchain node")," to the data using the\n",(0,o.kt)("inlineCode",{parentName:"p"},"--base-path")," parameter."))}u.isMDXComponent=!0}}]);